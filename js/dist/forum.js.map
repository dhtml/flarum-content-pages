{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@dhtml/flarum-content-pages/webpack/bootstrap","webpack://@dhtml/flarum-content-pages/webpack/runtime/compat get default export","webpack://@dhtml/flarum-content-pages/webpack/runtime/define property getters","webpack://@dhtml/flarum-content-pages/webpack/runtime/hasOwnProperty shorthand","webpack://@dhtml/flarum-content-pages/webpack/runtime/make namespace object","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['common/app']\"","webpack://@dhtml/flarum-content-pages/./src/common/index.ts","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['forum/app']\"","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['common/extend']\"","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['common/components/Separator']\"","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@dhtml/flarum-content-pages/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['common/Component']\"","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@dhtml/flarum-content-pages/./src/forum/components/PageLoader.js","webpack://@dhtml/flarum-content-pages/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@dhtml/flarum-content-pages/external root \"flarum.core.compat['common/components/HeaderPrimary']\"","webpack://@dhtml/flarum-content-pages/./src/forum/index.js","webpack://@dhtml/flarum-content-pages/./src/forum/addTopBar.js","webpack://@dhtml/flarum-content-pages/./src/forum/addSideBar.js","webpack://@dhtml/flarum-content-pages/./src/forum/addInfinityScroller.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/app'];","import app from 'flarum/common/app';\n\napp.initializers.add('dhtml/flarum-content-pages', () => {\n  console.log('[dhtml/flarum-content-pages] Hello, forum and admin!');\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Separator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","import Component from 'flarum/common/Component';\nimport app from 'flarum/forum/app';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport listItems from 'flarum/common/helpers/listItems';\n\nexport default class PageLoader extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.slug = vnode.attrs.routeName;\n    this.page = null;\n\n    this.pageContent = null;\n\n    this.loadPage();\n  }\n\n  /**\n   * Initialize page.\n   *\n   * @param {fof/pages/models/Page} page\n   * @protected\n   */\n  show(page) {\n    this.page = page;\n\n    app.history.push('page', page.title);\n    app.setTitle(page.title);\n\n    //set the content\n    this.pageContent = page.content;\n\n    m.redraw();\n  }\n\n  loadPage() {\n    app.request({\n      method: 'GET',\n      url: app.forum.attribute(\"apiUrl\") + '/cpage/' + this.slug,\n    }).then(response => {\n      this.show(response.data.attributes);\n    });\n  }\n\n  renderPage() {\n    return m(\".IndexPage\", [\n      IndexPage.prototype.hero(),\n      m(\n        \".container\",\n        m(\".sideNavContainer\", [\n          m(\n            \"nav.IndexPage-nav.sideNav\",\n            m(\"ul\", listItems(IndexPage.prototype.sidebarItems().toArray()))\n          ),\n          m(\n            \".IndexPage-results.sideNavOffset\",\n            m(\"div.ContentPages\",  m.trust(this.pageContent)),\n          ),\n        ])\n      ),\n    ]);\n  }\n\n  view() {\n    return (\n      <div class=\"PageLoader\">\n        {this.pageContent ? (\n          this.renderPage()\n        ) : (\n          LoadingIndicator.component({ className: 'LoadingIndicator--block' })\n        )}\n      </div>\n    );\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/HeaderPrimary'];","import app from 'flarum/forum/app';\nimport addSideBar from \"./addSideBar\";\nimport addInfinityScroller from \"./addInfinityScroller\";\nimport PageLoader from \"./components/PageLoader\";\nimport addTopBar from \"./addTopBar\";\n\napp.initializers.add('dhtml/flarum-content-pages', (app) => {\n\n\n  //console.log('[dhtml/flarum-content-pages] Hello, forum!');\n  /*\n  app.routes.aboutUs = { path: '/about-us', component: AboutUs };\n  app.routes.contactUs = { path: '/contact-us', component: ContactUs };\n  app.routes.terms = { path: '/terms', component: Terms };\n  app.routes.guidelines = { path: '/guidelines', component: Guidelines };\n  app.routes.privacyPolicy = { path: '/privacy-policy', component: PrivacyPolicy };\n  app.routes.download = { path: '/download', component: Download };\n  */\n\n  const slugs = [\n    'contact-us',\n    'about-us',\n    'privacy-policy',\n    'terms',\n    'guidelines',\n    'download'\n  ];\n\n  slugs.forEach(slug => {\n    app.routes[slug] = { path: `/${slug}`, component: PageLoader, resolveComponent: () => PageLoader.extend({ slug }) };\n  });\n\n\n  addTopBar();\n  addSideBar();\n\n  addInfinityScroller();\n\n});\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport HeaderPrimary from 'flarum/common/components/HeaderPrimary';\n\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function () {\n  //add links to the topbar\n  extend(HeaderPrimary.prototype, 'items', (items) => {\n\n    const priority = 10;\n\n    items.add(\n      'topLink-1',\n      <LinkButton className=\"LinksButton Button Button--link\" external={false} href={'/'} rel=\"noopener noreferrer\" icon='fas fa-home'>\n        {app.translator.trans('flarum-content-pages.forum.home')}\n      </LinkButton>,\n      priority\n    );\n\n    items.add(\n      'topLink-2',\n      <LinkButton  className=\"LinksButton Button Button--link\" external={false} href={'/about-us'} rel=\"noopener noreferrer\" icon='fas fa-info-circle'>\n        {app.translator.trans('flarum-content-pages.forum.about-us')}\n      </LinkButton>,\n      priority\n    );\n\n  });\n\n}\n","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport Separator from 'flarum/common/components/Separator';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nimport app from 'flarum/forum/app';\n\nexport default function () {\n  // Add a link to the tags page, as well as a list of all the tags,\n  // to the index page's sidebar.\n  extend(IndexPage.prototype, 'navItems', function (items) {\n\n    const priority = 0;\n\n    items.add(\n      'customLink-1',\n      <LinkButton external={false} href={'/tags'} rel=\"noopener noreferrer\" icon='fas fa-th-large'>\n        {app.translator.trans('flarum-content-pages.forum.tags-cloud')}\n      </LinkButton>,\n      priority\n    );\n\n    items.add(\n      'customLink-2',\n      <LinkButton external={true} target='_blank' href={'https://d.afr.ng'} rel=\"noopener noreferrer\" icon='fab fa-discord'>\n        {app.translator.trans('flarum-content-pages.forum.discord-chat')}\n      </LinkButton>,\n      priority\n    );\n\n    items.add(\n      'dhtml-sidebar-about',\n      <LinkButton external={false} icon=\"fas fa-info-circle\" href={'/about-us'}>\n        {app.translator.trans('flarum-content-pages.forum.about-us')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-guideline',\n      <LinkButton external={false} icon=\"fas fa-book\" href={'/guidelines'}>\n        {app.translator.trans('flarum-content-pages.forum.guidelines')}\n      </LinkButton>,\n      -14\n    );\n\n    items.add(\n      'dhtml-sidebar-privacy',\n      <LinkButton external={false} icon=\"fas fa-user-secret\" href={'/privacy-policy'}>\n        {app.translator.trans('flarum-content-pages.forum.privacy-policy')}\n      </LinkButton>,\n      -14\n    );\n\n\n    items.add(\n      'dhtml-sidebar-terms',\n      <LinkButton external={false} icon=\"fas fa-file-contract\" href={'/terms'}>\n        {app.translator.trans('flarum-content-pages.forum.terms-of-use')}\n      </LinkButton>,\n      -14\n    );\n\n\n    items.add(\n      'dhtml-sidebar-contact',\n      <LinkButton icon=\"fas fa-at\" href={'/contact-us'}>\n        {app.translator.trans('flarum-content-pages.forum.contact-us')}\n      </LinkButton>,\n      -14\n    );\n\n\n    items.add(\n      'dhtml-sidebar-download',\n      <LinkButton external={false} icon=\"fas fa-download\" href={'/download'}>\n        {app.translator.trans('flarum-content-pages.forum.download-app')}\n      </LinkButton>,\n      -14\n    );\n\n    const CustomFooter = () => {\n      const currentYear = new Date().getFullYear();\n\n      return (\n        <span className=\"CustomSidebarFooter\">\n      © Africoders {currentYear}\n    </span>\n      );\n    }\n\n    items.add('custom-sidebar', CustomFooter(), -14);\n\n  });\n}\n","export default function () {\n\n  const multiplier = 1.75\n\n  function loadMoreIfNeeded() {\n    const distanceToBottom = -(\n      (document.body.scrollHeight || document.documentElement.scrollHeight) -\n      (document.body.scrollTop ||\n        document.documentElement.scrollTop +\n        document.documentElement.clientHeight)\n    );\n\n    if (distanceToBottom > document.documentElement.clientHeight * multiplier) return;\n\n    $(\".DiscussionList-loadMore button\").click();\n  }\n\n  document.addEventListener(\"scroll\", loadMoreIfNeeded, { passive: true });\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","app","add","console","log","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","PageLoader","_Component","apply","arguments","create","constructor","_proto","oninit","vnode","this","slug","attrs","routeName","page","pageContent","loadPage","show","push","title","content","m","redraw","_this","method","url","attribute","then","response","data","attributes","renderPage","IndexPage","hero","listItems","sidebarItems","toArray","trust","view","class","LoadingIndicator","className","Component","forEach","routes","path","component","resolveComponent","extend","HeaderPrimary","items","LinkButton","external","href","rel","icon","trans","currentYear","target","Date","getFullYear","document","addEventListener","body","scrollHeight","documentElement","scrollTop","clientHeight","$","click","passive"],"sourceRoot":""}